<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- ======================jquery============================= -->
    <script src="https://code.jquery.com/jquery-3.7.0.js"
        integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>


    <!-- ======================bootstrap============================= -->


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <style>
        .itemImg img {
            height: 40px;
            width: 40px;
            border-radius: 50%;
        }

        .itemName {
            background-color: transparent !important;
            border: none !important;
        }
    </style>

    <script>



        // const inputValue = [
        //     {
        //         img: "Images/download.jpeg",
        //         qty: 10,
        //         rate: 10,
        //         subTotal: () => {
        //             return this.qty * this.rate
        //         }
        //     },
        // ]

        // function addItem() {
        //     inputValue.push({
        //         img: "Images/download.jpeg",
        //         qty: 15,
        //         rate: 8,
        //         subTotal: () => {
        //             return this.qty * this.rate
        //         }
        //     },)

        // }

        // console.log(inputValue);

        // function htmlContent() {
        //     inputValue.forEach((item, index) => {
        //         console.log('item', item);
        //     })
        // }

        // htmlContent()

        function BtnDel(v) {

            $(v).parent().parent().remove();

        }

        function BtnAdd() {

            var v = $("#TRow").clone().appendTo("#TBody");
            $(v).find("input").val("");
            $(v).removeClass("d-none");

        }

        function calc(v) {
            // debugger

            var index = $(v).parent().parent().index();

            var qty = document.getElementsByName("qty")[index].value;
            var rate = document.getElementsByName("rate")[index].value;

            var amt = qty * rate;
            document.getElementsByName("amt")[index].value = amt;

            getTotal();

        }
        // function multi() {
        //     var qty = document.getElementById("qty").value;
        //     var rate = document.getElementById("rate").value;

        //     var amt = qty * rate;

        //     document.getElementById("amts").value = amt;
        // }

        function getTotal() {
            var sum = 0;
            var amts = document.getElementsByName("amt");

            for (let index = 0; index < amts.length; index++) {
                var amt = amts[index].value;
                sum = +(sum) + +(amt);
            }
            document.getElementById("total").value = sum;
        }
    </script>
</head>

<body>


    <div class="container" id="content">

    </div>

    <div class="container">
        <div class="col-md-6 offset-3 mt-5 shadow">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Product Info</th>
                        <th>Qty</th>
                        <th>Rate</th>
                        <th>Sub-Total</th>
                        <td></td>
                    </tr>
                </thead>
                <tbody id="TBody">

                    <!-- ========================================================== -->


                    <!-- ========================================================== -->


                    <tr id="TRow" class="d-none">
                        <td class="d-flex align-items-center gap-3">
                            <div class="itemImg"><img src="Images/download.jpeg" alt=""></div> <input type="text"
                                class="form-control itemName" name="image">
                        </td>
                        <td>
                            <input id="qty" name="qty" class="form-control" type="number" style="width: 80px;"
                                onchange="calc(this)">
                        </td>
                        <td>
                            <input type="text" id="rate" name="rate" class="form-control" type="text"
                                onchange="calc(this)" style="width: 80px;">
                        </td>
                        <td>
                            <input id="amts" name="amt" class="form-control" type="text" style="width: 80px;" readonly>
                        </td>
                        <td>
                            <button class="btn btn-danger" onclick="BtnDel(this)">X</button>
                        </td>
                    </tr>

                </tbody>

            </table>
            <table>
                <tr>
                    <td>
                        <div class="btn btn-group"><button class="btn btn-primary" id="addItem" onclick="BtnAdd()">Add
                                item</button>
                        </div>
                    </td>
                    <td>
                        <div class="input-group">
                            <span class="input-group-text" id="inputGroup-sizing-default">Total</span>
                            <input type="text" name="total" id="total" class="form-control"
                                aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" readonly>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</body>

</html>